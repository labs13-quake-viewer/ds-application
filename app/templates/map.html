{% extends 'layout.html' %}
{% block body %}

<div>
    <h1 class="display-4" style="margin-top: 10px;">Interactive Map</h1>
    <p class="lead">This map animates earthquake events over time.</p>
</div>

<div class="card bg-light">
    <div class="card-body">
        <h5 class="card-title">Choose Map Filters</h5>
        <form action="{{ url_for('map') }}" method="POST">
            <div class="form-row">
                <div class="form-group col-sm-8">
                    <label>Date Range (UTC)</label>
                    <div class="input-group">
                        <input type="text" class="form-control" name="starttime" id="starttime" value="{{ qry_params['starttime'] }}">
                        <input type="text" class="form-control" name="endtime" id="endtime" value="{{ qry_params['endtime'] }}">
                    </div>
                </div>
                <div class="form-group col-sm-4">
                    <label for="min-magnitude">Min. Magnitude</label>
                    <input type="text" class="form-control" name="minmagnitude" id="minmagnitude" value="{{ qry_params['minmagnitude'] }}">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-sm-4">
                    <label for="min-magnitude">Frame Period</label>
                    <select class="form-control" name="period" id="period" value="{{ map_params['period'] }}">
                        <option value="PT3H">3 Hours</option>
                        <option value="PT6H">6 Hours</option>
                        <option value="PT12H">12 Hours</option>
                        <option value="PT24H">24 Hours</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Update Map</button>
            </div>
        </form>
    </div>
</div>

<div class="card map-card">
    <iframe src="earthquakes.html" frameborder="0" style="width: 100%; height: 70vh;" id="map-iframe">
</div>
{% endblock body %}